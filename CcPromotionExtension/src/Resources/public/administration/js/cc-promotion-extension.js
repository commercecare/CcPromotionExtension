(this.webpackJsonp=this.webpackJsonp||[]).push([["cc-promotion-extension"],{"/GaO":function(t,e,i){"use strict";i.r(e);var o=i("h6Cc"),n=i.n(o),s=Shopware.Component,l=Shopware.Data.EntityCollection;s.extend("cc-entity-multi-select","sw-entity-multi-select",{template:n.a,computed:{selectToggleClass:function(){return this.currentCollection&&this.resultCollection&&this.currentCollection.length===this.resultCollection.length?"small-default-checkmark-square":"small-default-square"}},methods:{isExpanded:function(){return!(!this.$refs.selectBase||this.isLoading||!this.resultCollection||!this.resultCollection.length)&&this.$refs.selectBase.expanded},selectToggle:function(){if(this.resultCollection&&this.resultCollection.length){var t=this.currentCollection&&this.currentCollection.length===this.resultCollection.length?this.unselectAll():this.selectAll();this.emitChanges(t),this.$refs.selectionList.focus(),this.$refs.selectionList.select()}},selectAll:function(){var t=this,e=l.fromCollection(this.currentCollection);return this.resultCollection.forEach((function(i){t.isSelected(i)||(t.$emit("item-add",i),e.add(i))})),e},unselectAll:function(){var t=this;return this.resultCollection.forEach((function(e){t.isSelected(e)&&t.$emit("item-remove",e)})),l.fromCollection([])}}});var c=i("mmUO"),r=i.n(c),a=Shopware.Component,u=Shopware.Data,h=u.Criteria,d=(u.EntityCollection,Shopware.Utils.types);a.override("sw-promotion-v2-conditions",{template:r.a,data:function(){return{limit:500}},computed:{exclusionCriteria:function(){var t=this.$super("exclusionCriteria");return t.setLimit(this.limit),t}},methods:{loadExclusions:function(){var t=this;if(d.isEmpty(this.promotion.exclusionIds))this.excludedPromotions=this.createPromotionCollection();else{var e=this.repositoryFactory.create("promotion"),i=new h(1,this.limit).addFilter(h.equalsAny("id",this.promotion.exclusionIds));e.search(i,Shopware.Context.api).then((function(e){t.excludedPromotions=e}))}}}})},h6Cc:function(t,e){t.exports='{% block sw_entity_multi_select_base_selection_slot %}\n    {% parent %}\n    <div class="sw-select__selection-indicators is--select-all">\n        <sw-icon v-if="isExpanded()" @click="selectToggle" class="sw-select__select-indicator" :name="selectToggleClass" small></sw-icon>\n    </div>\n{% endblock %}'},mmUO:function(t,e){t.exports='{% block sw_promotion_v2_conditions_pre_conditions_exclusions %}\n    <cc-entity-multi-select\n        class="sw-promotion-v2-conditions__rules-exclusion-selection test"\n        :label="$tc(\'sw-promotion-v2.detail.conditions.preConditions.labelPromotionExclusions\')"\n        :placeholder="$tc(\'sw-promotion-v2.detail.conditions.preConditions.placeholderPromotionExclusions\')"\n        :criteria="exclusionCriteria"\n        :entity-collection="excludedPromotions"\n        :disabled="!acl.can(\'promotion.editor\')"\n        @change="onChangeExclusions"\n    />\n{% endblock %}\n'}},[["/GaO","runtime"]]]);